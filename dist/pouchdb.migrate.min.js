!function t(n,e,r){function o(u,c){if(!e[u]){if(!n[u]){var f="function"==typeof require&&require;if(!c&&f)return f(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var s=e[u]={exports:{}};n[u][0].call(s.exports,function(t){var e=n[u][1][t];return o(e?e:t)},s,s.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n,e){var r=t("pouchdb/extras/promise"),o=t("./lib/checkpointer"),i=t("./lib/migrate");e.migrate=function(t,n,e){var u=this;if(!t)throw new Error("no migration given");if("function"!=typeof t)throw new Error("migration must be a function");"function"==typeof n&&(e=n,n={}),"undefined"==typeof n&&(n={});var c=o(u,t).then(function(e){return i(u,e,t,n)});return"function"==typeof e?c.then(function(t){e(null,t)})["catch"](function(t){return e(t),r.reject(t)}):c},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},{"./lib/checkpointer":2,"./lib/migrate":4,"pouchdb/extras/promise":9}],2:[function(t,n,e){var r=t("./md5"),o=t("pouchdb/extras/promise"),i=function(t){return new o(function(n,e){r(t,function(t,r){return t?e(t):void n(r)})})};n.exports=function(t,n){var e={last_seq:0};return i(n.toString()).then(function(t){e._id="_local/"+t}).then(function(){return{get:function(){return t.get(e._id).then(function(t){e._rev=t._rev,e.last_seq=t.last_seq})["catch"](function(t){return 404!==t.status?o.reject():void 0}).then(function(){return e.last_seq})},set:function(n){return e.last_seq=n,t.put(e).then(function(t){e._rev=t.rev})}}})}},{"./md5":3,"pouchdb/extras/promise":9}],3:[function(t,n,e){(function(e,r){"use strict";function o(t,n,e){if("function"==typeof t.slice)return n?e?t.slice(n,e):t.slice(n):t.slice();n=Math.floor(n||0),e=Math.floor(e||0);var r=t.byteLength;if(n=0>n?Math.max(n+r,0):Math.min(r,n),e=0>e?Math.max(e+r,0):Math.min(r,e),0>=e-n)return new ArrayBuffer(0);var o=new ArrayBuffer(e-n),i=new Uint8Array(o),u=new Uint8Array(t,n,e-n);return i.set(u),o}function i(t){var n=[255&t,t>>>8&255,t>>>16&255,t>>>24&255];return n.map(function(t){return String.fromCharCode(t)}).join("")}function u(t){for(var n="",e=0;e<t.length;e++)n+=i(t[e]);return r.btoa(n)}var c=t("crypto"),f=t("spark-md5"),a=r.setImmediate||r.setTimeout,s=32768;n.exports=function(t,n){function r(t,n,e,r){h?t.appendBinary(n.substring(e,r)):t.append(o(n,e,r))}function i(){var e=v*y,o=e+y;if(e+y>=t.size&&(o=t.size),v++,d>v)r(m,t,e,o),a(i);else{r(m,t,e,o);var c=m.end(!0),f=u(c);n(null,f),m.destroy()}}if(!e.browser){var l=c.createHash("md5").update(t).digest("base64");return void n(null,l)}var h="string"==typeof t,p=h?t.length:t.byteLength,y=Math.min(s,p),d=Math.ceil(p/y),v=0,m=h?new f:new f.ArrayBuffer;i()}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:7,crypto:6,"spark-md5":13}],4:[function(t,n,e){var r=t("pouchdb/extras/promise"),o=t("pouchdb-extend"),i=t("async");n.exports=function u(t,n,e,c){return n.get().then(function(f){return new r(function(r,a){var s=[],l=i.queue(function(e,r){return e?void t.bulkDocs({docs:e}).then(function(t){return n.set(change.seq)}).then(r.bind({},null))["catch"](r):n.set(change.seq).then(r.bind({},null))["catch"](r)},1),h=t.changes(o({},c,{include_docs:!0,since:f}));h.on("change",function(t){var n=e(t.doc);return c.live?void l.push(n):void(s=n?s.concat(n):s)}),h.on("complete",function(o){return c.live?r(o):void t.bulkDocs({docs:s}).then(function(t){return n.set(o.last_seq)}).then(function(){return t.info()}).then(function(r){return r.update_seq>o.last_seq?u(t,n,e,c):o}).then(r)}),h.on("error",a)})})}},{async:5,"pouchdb-extend":8,"pouchdb/extras/promise":9}],5:[function(t,n,e){(function(t,e){!function(){function r(){}function o(t){return t}function i(t){return!!t}function u(t){return!t}function c(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function f(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function a(t){return P(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function s(t,n){for(var e=-1,r=t.length;++e<r;)n(t[e],e,t)}function l(t,n){for(var e=-1,r=t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function h(t){return l(Array(t),function(t,n){return n})}function p(t,n,e){return s(t,function(t,r,o){e=n(e,t,r,o)}),e}function y(t,n){s(z(t),function(e){n(t[e],e)})}function d(t,n){for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1}function v(t){var n,e,r=-1;return a(t)?(n=t.length,function(){return r++,n>r?r:null}):(e=z(t),n=e.length,function(){return r++,n>r?e[r]:null})}function m(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),o=0;e>o;o++)r[o]=arguments[o+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function g(t){return function(n,e,r){return t(n,r)}}function b(t){return function(n,e,o){o=f(o||r),n=n||[];var i=v(n);if(0>=t)return o(null);var u=!1,a=0,s=!1;!function l(){if(u&&0>=a)return o(null);for(;t>a&&!s;){var r=i();if(null===r)return u=!0,void(0>=a&&o(null));a+=1,e(n[r],r,c(function(t){a-=1,t?(o(t),s=!0):l()}))}}()}}function w(t){return function(n,e,r){return t(M.eachOf,n,e,r)}}function _(t){return function(n,e,r,o){return t(b(e),n,r,o)}}function k(t){return function(n,e,r){return t(M.eachOfSeries,n,e,r)}}function A(t,n,e,o){o=f(o||r),n=n||[];var i=a(n)?[]:{};t(n,function(t,n,r){e(t,function(t,e){i[n]=e,r(t)})},function(t){o(t,i)})}function j(t,n,e,r){var o=[];t(n,function(t,n,r){e(t,function(e){e&&o.push({index:n,value:t}),r()})},function(){r(l(o.sort(function(t,n){return t.index-n.index}),function(t){return t.value}))})}function x(t,n,e,r){j(t,n,function(t,n){e(t,function(t){n(!t)})},r)}function O(t,n,e){return function(r,o,i,u){function c(){u&&u(e(!1,void 0))}function f(t,r,o){return u?void i(t,function(r){u&&n(r)&&(u(e(!0,t)),u=i=!1),o()}):o()}arguments.length>3?t(r,o,f,c):(u=i,i=o,t(r,f,c))}}function S(t,n){return n}function E(t,n,e){e=e||r;var o=a(n)?[]:{};t(n,function(t,n,e){t(m(function(t,r){r.length<=1&&(r=r[0]),o[n]=r,e(t)}))},function(t){e(t,o)})}function L(t,n,e,r){var o=[];t(n,function(t,n,r){e(t,function(t,n){o=o.concat(n||[]),r(t)})},function(t){r(t,o)})}function C(t,n,e){function o(t,n,e,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,P(n)||(n=[n]),0===n.length&&t.idle()?M.setImmediate(function(){t.drain()}):(s(n,function(n){var i={data:n,callback:o||r};e?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void M.setImmediate(t.process))}function i(t,n){return function(){u-=1;var e=!1,r=arguments;s(n,function(t){s(f,function(n,r){n!==t||e||(f.splice(r,1),e=!0)}),t.callback.apply(t,r)}),t.tasks.length+u===0&&t.drain(),t.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var u=0,f=[],a={tasks:[],concurrency:n,payload:e,saturated:r,empty:r,drain:r,started:!1,paused:!1,push:function(t,n){o(a,t,!1,n)},kill:function(){a.drain=r,a.tasks=[]},unshift:function(t,n){o(a,t,!0,n)},process:function(){for(;!a.paused&&u<a.concurrency&&a.tasks.length;){var n=a.payload?a.tasks.splice(0,a.payload):a.tasks.splice(0,a.tasks.length),e=l(n,function(t){return t.data});0===a.tasks.length&&a.empty(),u+=1,f.push(n[0]);var r=c(i(a,n));t(e,r)}},length:function(){return a.tasks.length},running:function(){return u},workersList:function(){return f},idle:function(){return a.tasks.length+u===0},pause:function(){a.paused=!0},resume:function(){if(a.paused!==!1){a.paused=!1;for(var t=Math.min(a.concurrency,a.tasks.length),n=1;t>=n;n++)M.setImmediate(a.process)}}};return a}function I(t){return m(function(n,e){n.apply(null,e.concat([m(function(n,e){"object"==typeof console&&(n?console.error&&console.error(n):console[t]&&s(e,function(n){console[t](n)}))})]))})}function B(t){return function(n,e,r){t(h(n),e,r)}}function q(t){return m(function(n,e){var r=m(function(e){var r=this,o=e.pop();return t(n,function(t,n,o){t.apply(r,e.concat([o]))},o)});return e.length?r.apply(this,e):r})}function T(t){return m(function(n){var e=n.pop();n.push(function(){var t=arguments;r?M.setImmediate(function(){e.apply(null,t)}):e.apply(null,t)});var r=!0;t.apply(this,n),r=!1})}var U,M={},F="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;null!=F&&(U=F.async),M.noConflict=function(){return F.async=U,M};var D=Object.prototype.toString,P=Array.isArray||function(t){return"[object Array]"===D.call(t)},R=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},z=Object.keys||function(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(e);return n},N="function"==typeof setImmediate&&setImmediate,H=N?function(t){N(t)}:function(t){setTimeout(t,0)};"object"==typeof t&&"function"==typeof t.nextTick?M.nextTick=t.nextTick:M.nextTick=H,M.setImmediate=N?H:M.nextTick,M.forEach=M.each=function(t,n,e){return M.eachOf(t,g(n),e)},M.forEachSeries=M.eachSeries=function(t,n,e){return M.eachOfSeries(t,g(n),e)},M.forEachLimit=M.eachLimit=function(t,n,e,r){return b(n)(t,g(e),r)},M.forEachOf=M.eachOf=function(t,n,e){function o(t){a--,t?e(t):null===i&&0>=a&&e(null)}e=f(e||r),t=t||[];for(var i,u=v(t),a=0;null!=(i=u());)a+=1,n(t[i],i,c(o));0===a&&e(null)},M.forEachOfSeries=M.eachOfSeries=function(t,n,e){function o(){var r=!0;return null===u?e(null):(n(t[u],u,c(function(t){if(t)e(t);else{if(u=i(),null===u)return e(null);r?M.setImmediate(o):o()}})),void(r=!1))}e=f(e||r),t=t||[];var i=v(t),u=i();o()},M.forEachOfLimit=M.eachOfLimit=function(t,n,e,r){b(n)(t,e,r)},M.map=w(A),M.mapSeries=k(A),M.mapLimit=_(A),M.inject=M.foldl=M.reduce=function(t,n,e,r){M.eachOfSeries(t,function(t,r,o){e(n,t,function(t,e){n=e,o(t)})},function(t){r(t,n)})},M.foldr=M.reduceRight=function(t,n,e,r){var i=l(t,o).reverse();M.reduce(i,n,e,r)},M.transform=function(t,n,e,r){3===arguments.length&&(r=e,e=n,n=P(t)?[]:{}),M.eachOf(t,function(t,r,o){e(n,t,r,o)},function(t){r(t,n)})},M.select=M.filter=w(j),M.selectLimit=M.filterLimit=_(j),M.selectSeries=M.filterSeries=k(j),M.reject=w(x),M.rejectLimit=_(x),M.rejectSeries=k(x),M.any=M.some=O(M.eachOf,i,o),M.someLimit=O(M.eachOfLimit,i,o),M.all=M.every=O(M.eachOf,u,u),M.everyLimit=O(M.eachOfLimit,u,u),M.detect=O(M.eachOf,o,S),M.detectSeries=O(M.eachOfSeries,o,S),M.detectLimit=O(M.eachOfLimit,o,S),M.sortBy=function(t,n,e){function r(t,n){var e=t.criteria,r=n.criteria;return r>e?-1:e>r?1:0}M.map(t,function(t,e){n(t,function(n,r){n?e(n):e(null,{value:t,criteria:r})})},function(t,n){return t?e(t):void e(null,l(n.sort(r),function(t){return t.value}))})},M.auto=function(t,n,e){function o(t){g.unshift(t)}function i(t){var n=d(g,t);n>=0&&g.splice(n,1)}function u(){a--,s(g.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(e=n,n=null),e=f(e||r);var c=z(t),a=c.length;if(!a)return e(null);n||(n=a);var l={},h=0,v=!1,g=[];o(function(){a||e(null,l)}),s(c,function(r){function c(){return n>h&&p(b,function(t,n){return t&&l.hasOwnProperty(n)},!0)&&!l.hasOwnProperty(r)}function f(){c()&&(h++,i(f),s[s.length-1](g,l))}if(!v){for(var a,s=P(t[r])?t[r]:[t[r]],g=m(function(t,n){if(h--,n.length<=1&&(n=n[0]),t){var o={};y(l,function(t,n){o[n]=t}),o[r]=n,v=!0,e(t,o)}else l[r]=n,M.setImmediate(u)}),b=s.slice(0,s.length-1),w=b.length;w--;){if(!(a=t[b[w]]))throw new Error("Has nonexistent dependency in "+b.join(", "));if(P(a)&&d(a,r)>=0)throw new Error("Has cyclic dependencies")}c()?(h++,s[s.length-1](g,l)):o(f)}})},M.retry=function(t,n,e){function r(t,n){if("number"==typeof n)t.times=parseInt(n,10)||i;else{if("object"!=typeof n)throw new Error("Unsupported argument type for 'times': "+typeof n);t.times=parseInt(n.times,10)||i,t.interval=parseInt(n.interval,10)||u}}function o(t,n){function e(t,e){return function(r){t(function(t,n){r(!t||e,{err:t,result:n})},n)}}function r(t){return function(n){setTimeout(function(){n(null)},t)}}for(;f.times;){var o=!(f.times-=1);c.push(e(f.task,o)),!o&&f.interval>0&&c.push(r(f.interval))}M.series(c,function(n,e){e=e[e.length-1],(t||f.callback)(e.err,e.result)})}var i=5,u=0,c=[],f={times:i,interval:u},a=arguments.length;if(1>a||a>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=a&&"function"==typeof t&&(e=n,n=t),"function"!=typeof t&&r(f,t),f.callback=e,f.task=n,f.callback?o():o},M.waterfall=function(t,n){function e(t){return m(function(r,o){if(r)n.apply(null,[r].concat(o));else{var i=t.next();i?o.push(e(i)):o.push(n),T(t).apply(null,o)}})}if(n=f(n||r),!P(t)){var o=new Error("First argument to waterfall must be an array of functions");return n(o)}return t.length?void e(M.iterator(t))():n()},M.parallel=function(t,n){E(M.eachOf,t,n)},M.parallelLimit=function(t,n,e){E(b(n),t,e)},M.series=function(t,n){E(M.eachOfSeries,t,n)},M.iterator=function(t){function n(e){function r(){return t.length&&t[e].apply(null,arguments),r.next()}return r.next=function(){return e<t.length-1?n(e+1):null},r}return n(0)},M.apply=m(function(t,n){return m(function(e){return t.apply(null,n.concat(e))})}),M.concat=w(L),M.concatSeries=k(L),M.whilst=function(t,n,e){if(e=e||r,t()){var o=m(function(r,i){r?e(r):t.apply(this,i)?n(o):e.apply(null,[null].concat(i))});n(o)}else e(null)},M.doWhilst=function(t,n,e){var r=0;return M.whilst(function(){return++r<=1||n.apply(this,arguments)},t,e)},M.until=function(t,n,e){return M.whilst(function(){return!t.apply(this,arguments)},n,e)},M.doUntil=function(t,n,e){return M.doWhilst(t,function(){return!n.apply(this,arguments)},e)},M.during=function(t,n,e){e=e||r;var o=m(function(n,r){n?e(n):(r.push(i),t.apply(this,r))}),i=function(t,r){t?e(t):r?n(o):e(null)};t(i)},M.doDuring=function(t,n,e){var r=0;M.during(function(t){r++<1?t(null,!0):n.apply(this,arguments)},t,e)},M.queue=function(t,n){var e=C(function(n,e){t(n[0],e)},n,1);return e},M.priorityQueue=function(t,n){function e(t,n){return t.priority-n.priority}function o(t,n,e){for(var r=-1,o=t.length-1;o>r;){var i=r+(o-r+1>>>1);e(n,t[i])>=0?r=i:o=i-1}return r}function i(t,n,i,u){if(null!=u&&"function"!=typeof u)throw new Error("task callback must be a function");return t.started=!0,P(n)||(n=[n]),0===n.length?M.setImmediate(function(){t.drain()}):void s(n,function(n){var c={data:n,priority:i,callback:"function"==typeof u?u:r};t.tasks.splice(o(t.tasks,c,e)+1,0,c),t.tasks.length===t.concurrency&&t.saturated(),M.setImmediate(t.process)})}var u=M.queue(t,n);return u.push=function(t,n,e){i(u,t,n,e)},delete u.unshift,u},M.cargo=function(t,n){return C(t,1,n)},M.log=I("log"),M.dir=I("dir"),M.memoize=function(t,n){var e={},r={},i=Object.prototype.hasOwnProperty;n=n||o;var u=m(function(o){var u=o.pop(),c=n.apply(null,o);i.call(e,c)?M.setImmediate(function(){u.apply(null,e[c])}):i.call(r,c)?r[c].push(u):(r[c]=[u],t.apply(null,o.concat([m(function(t){e[c]=t;var n=r[c];delete r[c];for(var o=0,i=n.length;i>o;o++)n[o].apply(null,t)})])))});return u.memo=e,u.unmemoized=t,u},M.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},M.times=B(M.map),M.timesSeries=B(M.mapSeries),M.timesLimit=function(t,n,e,r){return M.mapLimit(h(t),n,e,r)},M.seq=function(){var t=arguments;return m(function(n){var e=this,o=n[n.length-1];"function"==typeof o?n.pop():o=r,M.reduce(t,n,function(t,n,r){n.apply(e,t.concat([m(function(t,n){r(t,n)})]))},function(t,n){o.apply(e,[t].concat(n))})})},M.compose=function(){return M.seq.apply(null,Array.prototype.reverse.call(arguments))},M.applyEach=q(M.eachOf),M.applyEachSeries=q(M.eachOfSeries),M.forever=function(t,n){function e(t){return t?o(t):void i(e)}var o=c(n||r),i=T(t);e()},M.ensureAsync=T,M.constant=m(function(t){var n=[null].concat(t);return function(t){return t.apply(this,n)}}),M.wrapSync=M.asyncify=function(t){return m(function(n){var e,r=n.pop();try{e=t.apply(this,n)}catch(o){return r(o)}R(e)&&"function"==typeof e.then?e.then(function(t){r(null,t)})["catch"](function(t){r(t.message?t:new Error(t))}):r(null,e)})},"object"==typeof n&&n.exports?n.exports=M:"function"==typeof define&&define.amd?define([],function(){return M}):F.async=M}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:7}],6:[function(t,n,e){},{}],7:[function(t,n,e){function r(){s=!1,c.length?a=c.concat(a):l=-1,a.length&&o()}function o(){if(!s){var t=setTimeout(r);s=!0;for(var n=a.length;n;){for(c=a,a=[];++l<n;)c&&c[l].run();l=-1,n=a.length}c=null,s=!1,clearTimeout(t)}}function i(t,n){this.fun=t,this.array=n}function u(){}var c,f=n.exports={},a=[],s=!1,l=-1;f.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];a.push(new i(t,n)),1!==a.length||s||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],8:[function(t,n,e){"use strict";function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?a[p.call(t)]||"object":typeof t}function o(t){return null!==t&&t===t.window}function i(t){if(!t||"object"!==r(t)||t.nodeType||o(t))return!1;try{if(t.constructor&&!y.call(t,"constructor")&&!y.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var e;for(e in t);return void 0===e||y.call(t,e)}function u(t){return"function"===r(t)}function c(){for(var t=[],n=-1,e=arguments.length,r=new Array(e);++n<e;)r[n]=arguments[n];var o={};t.push({args:r,result:{container:o,key:"key"}});for(var i;i=t.pop();)f(t,i.args,i.result);return o.key}function f(t,n,e){var r,o,c,f,a,s,l,h=n[0]||{},p=1,y=n.length,v=!1,m=/\d+/;for("boolean"==typeof h&&(v=h,h=n[1]||{},p=2),"object"==typeof h||u(h)||(h={}),y===p&&(h=this,--p);y>p;p++)if(null!=(r=n[p])){l=d(r);for(o in r)if(!(o in Object.prototype)){if(l&&!m.test(o))continue;if(c=h[o],f=r[o],h===f)continue;v&&f&&(i(f)||(a=d(f)))?(a?(a=!1,s=c&&d(c)?c:[]):s=c&&i(c)?c:{},t.push({args:[v,s,f],result:{container:h,key:o}})):void 0!==f&&(d(r)&&u(f)||(h[o]=f))}}e.container[e.key]=h}for(var a={},s=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<s.length;l++){var h=s[l];a["[object "+h+"]"]=h.toLowerCase()}var p=a.toString,y=a.hasOwnProperty,d=Array.isArray||function(t){return"array"===r(t)};n.exports=c},{}],9:[function(t,n,e){"use strict";n.exports=t("../lib/extras/promise")},{"../lib/extras/promise":10}],10:[function(t,n,e){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t["default"]:t}var o=r(t("lie")),i="function"==typeof Promise?Promise:o;n.exports=i},{lie:11}],11:[function(t,n,e){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&f(this,t)}function i(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function u(t,n,e){y(function(){var r;try{r=n(e)}catch(o){return d.reject(t,o)}r===t?d.reject(t,new TypeError("Cannot resolve promise with itself")):d.resolve(t,r)})}function c(t){var n=t&&t.then;return t&&"object"==typeof t&&"function"==typeof n?function(){n.apply(t,arguments)}:void 0}function f(t,n){function e(n){i||(i=!0,d.reject(t,n))}function r(n){i||(i=!0,d.resolve(t,n))}function o(){n(r,e)}var i=!1,u=a(o);"error"===u.status&&e(u.value)}function a(t,n){var e={};try{e.value=t(n),e.status="success"}catch(r){e.status="error",e.value=r}return e}function s(t){return t instanceof this?t:d.resolve(new this(r),t)}function l(t){var n=new this(r);return d.reject(n,t)}function h(t){function n(t,n){function r(t){u[n]=t,++c!==o||i||(i=!0,d.resolve(a,u))}e.resolve(t).then(r,function(t){i||(i=!0,d.reject(a,t))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),c=0,f=-1,a=new this(r);++f<o;)n(t[f],f);return a}function p(t){function n(t){e.resolve(t).then(function(t){i||(i=!0,d.resolve(c,t))},function(t){i||(i=!0,d.reject(c,t))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var u=-1,c=new this(r);++u<o;)n(t[u]);return c}var y=t("immediate"),d={},v=["REJECTED"],m=["FULFILLED"],g=["PENDING"];n.exports=e=o,o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,n){if("function"!=typeof t&&this.state===m||"function"!=typeof n&&this.state===v)return this;var e=new this.constructor(r);if(this.state!==g){var o=this.state===m?t:n;u(e,o,this.outcome)}else this.queue.push(new i(e,t,n));return e},i.prototype.callFulfilled=function(t){d.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){d.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},d.resolve=function(t,n){var e=a(c,n);if("error"===e.status)return d.reject(t,e.value);var r=e.value;if(r)f(t,r);else{t.state=m,t.outcome=n;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(n)}return t},d.reject=function(t,n){t.state=v,t.outcome=n;for(var e=-1,r=t.queue.length;++e<r;)t.queue[e].callRejected(n);return t},e.resolve=s,e.reject=l,e.all=h,e.race=p},{immediate:12}],12:[function(t,n,e){(function(t){"use strict";function e(){s=!0;for(var t,n,e=l.length;e;){for(n=l,l=[],t=-1;++t<e;)n[t]();e=l.length}s=!1}function r(t){1!==l.push(t)||s||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,c=new i(e),f=t.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var a=new t.MessageChannel;a.port1.onmessage=e,o=function(){a.port2.postMessage(0)}}var s,l=[];n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,n,e){!function(t){if("object"==typeof e)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var r;try{r=window}catch(o){r=self}r.SparkMD5=t()}}(function(t){"use strict";function n(t,n,e,r,o,i){return n=b(b(n,t),b(r,i)),b(n<<o|n>>>32-o,e)}function e(t,e,r,o,i,u,c){return n(e&r|~e&o,t,e,i,u,c)}function r(t,e,r,o,i,u,c){return n(e&o|r&~o,t,e,i,u,c)}function o(t,e,r,o,i,u,c){return n(e^r^o,t,e,i,u,c)}function i(t,e,r,o,i,u,c){return n(r^(e|~o),t,e,i,u,c)}function u(t,n){var u=t[0],c=t[1],f=t[2],a=t[3];u=e(u,c,f,a,n[0],7,-680876936),a=e(a,u,c,f,n[1],12,-389564586),f=e(f,a,u,c,n[2],17,606105819),c=e(c,f,a,u,n[3],22,-1044525330),u=e(u,c,f,a,n[4],7,-176418897),a=e(a,u,c,f,n[5],12,1200080426),f=e(f,a,u,c,n[6],17,-1473231341),c=e(c,f,a,u,n[7],22,-45705983),u=e(u,c,f,a,n[8],7,1770035416),a=e(a,u,c,f,n[9],12,-1958414417),f=e(f,a,u,c,n[10],17,-42063),c=e(c,f,a,u,n[11],22,-1990404162),u=e(u,c,f,a,n[12],7,1804603682),a=e(a,u,c,f,n[13],12,-40341101),f=e(f,a,u,c,n[14],17,-1502002290),c=e(c,f,a,u,n[15],22,1236535329),u=r(u,c,f,a,n[1],5,-165796510),a=r(a,u,c,f,n[6],9,-1069501632),f=r(f,a,u,c,n[11],14,643717713),c=r(c,f,a,u,n[0],20,-373897302),u=r(u,c,f,a,n[5],5,-701558691),a=r(a,u,c,f,n[10],9,38016083),f=r(f,a,u,c,n[15],14,-660478335),c=r(c,f,a,u,n[4],20,-405537848),u=r(u,c,f,a,n[9],5,568446438),a=r(a,u,c,f,n[14],9,-1019803690),f=r(f,a,u,c,n[3],14,-187363961),c=r(c,f,a,u,n[8],20,1163531501),u=r(u,c,f,a,n[13],5,-1444681467),a=r(a,u,c,f,n[2],9,-51403784),f=r(f,a,u,c,n[7],14,1735328473),c=r(c,f,a,u,n[12],20,-1926607734),u=o(u,c,f,a,n[5],4,-378558),a=o(a,u,c,f,n[8],11,-2022574463),f=o(f,a,u,c,n[11],16,1839030562),c=o(c,f,a,u,n[14],23,-35309556),u=o(u,c,f,a,n[1],4,-1530992060),a=o(a,u,c,f,n[4],11,1272893353),f=o(f,a,u,c,n[7],16,-155497632),c=o(c,f,a,u,n[10],23,-1094730640),u=o(u,c,f,a,n[13],4,681279174),a=o(a,u,c,f,n[0],11,-358537222),f=o(f,a,u,c,n[3],16,-722521979),c=o(c,f,a,u,n[6],23,76029189),u=o(u,c,f,a,n[9],4,-640364487),a=o(a,u,c,f,n[12],11,-421815835),f=o(f,a,u,c,n[15],16,530742520),c=o(c,f,a,u,n[2],23,-995338651),u=i(u,c,f,a,n[0],6,-198630844),a=i(a,u,c,f,n[7],10,1126891415),f=i(f,a,u,c,n[14],15,-1416354905),c=i(c,f,a,u,n[5],21,-57434055),u=i(u,c,f,a,n[12],6,1700485571),a=i(a,u,c,f,n[3],10,-1894986606),f=i(f,a,u,c,n[10],15,-1051523),c=i(c,f,a,u,n[1],21,-2054922799),u=i(u,c,f,a,n[8],6,1873313359),a=i(a,u,c,f,n[15],10,-30611744),f=i(f,a,u,c,n[6],15,-1560198380),c=i(c,f,a,u,n[13],21,1309151649),u=i(u,c,f,a,n[4],6,-145523070),a=i(a,u,c,f,n[11],10,-1120210379),f=i(f,a,u,c,n[2],15,718787259),c=i(c,f,a,u,n[9],21,-343485551),t[0]=b(u,t[0]),t[1]=b(c,t[1]),t[2]=b(f,t[2]),t[3]=b(a,t[3])}function c(t){var n,e=[];for(n=0;64>n;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}function f(t){var n,e=[];for(n=0;64>n;n+=4)e[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return e}function a(t){var n,e,r,o,i,f,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;a>=n;n+=64)u(s,c(t.substring(n-64,n)));for(t=t.substring(n-64),e=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;e>n;n+=1)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(u(s,r),n=0;16>n;n+=1)r[n]=0;return o=8*a,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),f=parseInt(o[1],16)||0,r[14]=i,r[15]=f,u(s,r),s}function s(t){var n,e,r,o,i,c,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;a>=n;n+=64)u(s,f(t.subarray(n-64,n)));for(t=a>n-64?t.subarray(n-64):new Uint8Array(0),e=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;e>n;n+=1)r[n>>2]|=t[n]<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(u(s,r),n=0;16>n;n+=1)r[n]=0;return o=8*a,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=i,r[15]=c,u(s,r),s}function l(t){var n,e="";for(n=0;4>n;n+=1)e+=w[t>>8*n+4&15]+w[t>>8*n&15];return e}function h(t){var n;for(n=0;n<t.length;n+=1)t[n]=l(t[n]);return t.join("")}function p(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function y(t,n){var e,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(e=0;r>e;e+=1)i[e]=t.charCodeAt(e);return n?i:o}function d(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function v(t,n,e){var r=new Uint8Array(t.byteLength+n.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(n),t.byteLength),e?r:r.buffer}function m(t){var n,e=[],r=t.length;for(n=0;r-1>n;n+=2)e.push(parseInt(t.substr(n,2),16));return String.fromCharCode.apply(String,e)}function g(){this.reset()}var b=function(t,n){return t+n&4294967295},w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==h(a("hello"))&&(b=function(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function n(t,n){return t=0|t||0,0>t?Math.max(t+n,0):Math.min(t,n)}ArrayBuffer.prototype.slice=function(e,r){var o,i,u,c,f=this.byteLength,a=n(e,f),s=f;return r!==t&&(s=n(r,f)),a>s?new ArrayBuffer(0):(o=s-a,i=new ArrayBuffer(o),u=new Uint8Array(i),c=new Uint8Array(this,a,o),u.set(c),i)}}(),g.prototype.append=function(t){return this.appendBinary(p(t)),this},g.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,e=this._buff.length;for(n=64;e>=n;n+=64)u(this._hash,c(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},g.prototype.end=function(t){var n,e,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;o>n;n+=1)i[n>>2]|=r.charCodeAt(n)<<(n%4<<3);return this._finish(i,o),e=h(this._hash),t&&(e=m(e)),this.reset(),e},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},g.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(t,n){var e,r,o,i=n;if(t[i>>2]|=128<<(i%4<<3),i>55)for(u(this._hash,t),i=0;16>i;i+=1)t[i]=0;e=8*this._length,e=e.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(e[2],16),o=parseInt(e[1],16)||0,t[14]=r,t[15]=o,u(this._hash,t)},g.hash=function(t,n){return g.hashBinary(p(t),n)},g.hashBinary=function(t,n){var e=a(t),r=h(e);return n?m(r):r},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(t){var n,e=v(this._buff.buffer,t,!0),r=e.length;for(this._length+=t.byteLength,n=64;r>=n;n+=64)u(this._hash,f(e.subarray(n-64,n)));return this._buff=r>n-64?new Uint8Array(e.buffer.slice(n-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(t){var n,e,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;o>n;n+=1)i[n>>2]|=r[n]<<(n%4<<3);return this._finish(i,o),e=h(this._hash),t&&(e=m(e)),this.reset(),e},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var t=g.prototype.getState.call(this);return t.buff=d(t.buff),t},g.ArrayBuffer.prototype.setState=function(t){return t.buff=y(t.buff,!0),g.prototype.setState.call(this,t)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(t,n){var e=s(new Uint8Array(t)),r=h(e);return n?m(r):r},g})},{}]},{},[1]);
